/*!
 * FlexaFlow v1.0.0
 * Modern UI Component Library
 * 
 * Copyright 2025 FlexaFlow
 * Licensed under MIT
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).FlexaFlow={})}(this,(function(t){"use strict";class e{constructor(t={}){this.options={position:t.position||"bottom-right",duration:t.duration||5e3,maxToasts:t.maxToasts||5,animation:t.animation||"slide",containerClass:t.containerClass||"",zIndex:t.zIndex||9999,autoClean:!1!==t.autoClean},this.toasts=[],this.container=null,this.initialized=!1}_initContainer(){if(this.initialized)return;const t=document.createElement("div");t.id="flexaflow-toast-container";const e={"top-left":"ff-fixed ff-top-4 ff-left-4","top-right":"ff-fixed ff-top-4 ff-right-4","bottom-left":"ff-fixed ff-bottom-4 ff-left-4","bottom-right":"ff-fixed ff-bottom-4 ff-right-4","top-center":"ff-fixed ff-top-4 ff-left-1/2 ff-transform ff--translate-x-1/2","bottom-center":"ff-fixed ff-bottom-4 ff-left-1/2 ff-transform ff--translate-x-1/2"};t.className=`ff-toast-container ${e[this.options.position]||e["bottom-right"]} ff-flex ff-flex-col ff-z-${this.options.zIndex} ${this.options.containerClass}`,document.body.appendChild(t),this.container=t,this.initialized=!0}_createToast(t,e="default"){if(!this.initialized&&this._initContainer(),this.toasts.length>=this.options.maxToasts){const t=this.toasts.shift();t.element&&this.container.removeChild(t.element)}const i=document.createElement("div"),n=`ff-toast ff-toast-${e}`;let s="";switch(this.options.animation){case"fade":s="ff-animate-fade-in";break;case"slide":default:s="ff-toast-enter"}i.className=`${n} ${s}`,i.setAttribute("role","alert"),i.innerHTML=`
      <div class="ff-toast-content">${t}</div>
      <button class="ff-toast-close" aria-label="Close">
        <span aria-hidden="true">&times;</span>
      </button>
    `;const a={id:Math.random().toString(36).substring(2,9),element:i,type:e};return this.toasts.push(a),i.querySelector(".ff-toast-close").addEventListener("click",()=>this.dismiss(a.id)),this.container.appendChild(i),a.id}_autoRemove(t){setTimeout(()=>{this.dismiss(t)},this.options.duration)}dismiss(t){const e=this.toasts.findIndex(e=>e.id===t);if(-1!==e){const t=this.toasts[e].element;if(t){if("slide"===this.options.animation?t.classList.add("ff-toast-exit"):t.classList.add("ff-animate-fade-out"),setTimeout(()=>{t&&t.parentNode&&t.parentNode.removeChild(t)},300),this.toasts.splice(e,1),this.options.autoClean&&0===this.toasts.length){const t=document.getElementById("flexaflow-toast-container");t&&t.parentNode&&t.parentNode.removeChild(t),this.initialized=!1}}}}success(t){const e=this._createToast(t,"success");return this._autoRemove(e),e}error(t){const e=this._createToast(t,"error");return this._autoRemove(e),e}warning(t){const e=this._createToast(t,"warning");return this._autoRemove(e),e}info(t){const e=this._createToast(t,"info");return this._autoRemove(e),e}show(t,e="default"){const i=this._createToast(t,e);return this._autoRemove(i),i}}class i{constructor(t={}){this.options={animated:void 0===t.animated||t.animated,closeOnEscape:void 0===t.closeOnEscape||t.closeOnEscape,closeOnOutsideClick:void 0===t.closeOnOutsideClick||t.closeOnOutsideClick,preventScroll:void 0===t.preventScroll||t.preventScroll,zIndex:t.zIndex||1300,overlayClass:t.overlayClass||"",modalClass:t.modalClass||"",contentClass:t.contentClass||"",onOpen:t.onOpen||null,onClose:t.onClose||null,onAction:t.onAction||null},this.activeModals=[],this._isOpen=!1,t.closeOnEscape&&this._setupKeyboardNavigation()}_setupKeyboardNavigation(){document.addEventListener("keydown",t=>{this._isOpen&&"Escape"===t.key&&this.options.closeOnEscape&&this.activeModals.length>0&&this.close(this.activeModals[this.activeModals.length-1].id)})}_createOverlay(t){const e=document.createElement("div");return e.className=`ff-modal ${this.options.overlayClass}`,e.style.zIndex=this.options.zIndex.toString(),e.setAttribute("role","dialog"),e.setAttribute("aria-modal","true"),e.setAttribute("aria-labelledby",`modal-title-${t}`),e.setAttribute("aria-describedby",`modal-desc-${t}`),e.id=`ff-modal-${t}`,e}_createModalContent(t,e,i,n={}){const s=document.createElement("div"),a=n.draggable?"ff-modal-content ff-draggable":"ff-modal-content";return s.className=`${a} ${this.options.modalClass} ${this.options.animated?"ff-modal-content-enter":""}`,n.width&&(s.style.width=n.width),n.maxWidth&&(s.style.maxWidth=n.maxWidth),n.height&&(s.style.height=n.height),n.maxHeight&&(s.style.maxHeight=n.maxHeight),s.innerHTML=`
      ${!1!==n.showHeader?`<div class="ff-modal-header ${n.draggable?"ff-modal-drag-handle":""}">
        <h2 class="ff-modal-title" id="modal-title-${t}">${e||""}</h2>
        <button type="button" class="ff-modal-close" aria-label="Close" data-ff-close>
          <span aria-hidden="true">&times;</span>
        </button>
      </div>`:""}
      <div class="ff-modal-body ${this.options.contentClass}" id="modal-desc-${t}">
        ${i}
      </div>
      ${!1!==n.showFooter?`<div class="ff-modal-footer">
        ${this._createButtons(n.buttons||[])}
      </div>`:""}
    `,n.draggable&&this._makeDraggable(s),s}_makeDraggable(t){let e=null,i=null,n=null,s=null;const a=t.querySelector(".ff-modal-drag-handle");a&&(a.style.cursor="move",a.addEventListener("mousedown",o=>{o.preventDefault(),e=o.clientX,i=o.clientY,n=t.offsetLeft,s=t.offsetTop,document.addEventListener("mousemove",l),document.addEventListener("mouseup",r)}));const o=()=>{const e=t.getBoundingClientRect(),i=window.innerWidth,n=window.innerHeight;e.right>i&&(t.style.left=i-e.width+"px"),e.left<0&&(t.style.left="0px"),e.bottom>n&&(t.style.top=n-e.height+"px"),e.top<0&&(t.style.top="0px")},l=a=>{a.preventDefault();const l=a.clientX-e,r=a.clientY-i;t.style.position="absolute",t.style.left=n+l+"px",t.style.top=s+r+"px",o()},r=()=>{document.removeEventListener("mousemove",l),document.removeEventListener("mouseup",r)}}_createButtons(t){if(!t||0===t.length)return"";return t.map(t=>`<button type="button" class="ff-modal-btn ff-modal-btn-${t.type||"primary"}" 
            ${t.id?`id="${t.id}"`:""}
            ${t.action?"data-action="+t.action:""}
            ${t.disabled?"disabled":""}
            ${t.attributes||""}>
              ${t.text||"Button"}
            </button>`).join("")}create(t){const e="string"==typeof t?{content:t}:t,n=e.id||Math.random().toString(36).substring(2,9),s=this._createOverlay(n),a=this._createModalContent(n,e.title||"",e.content||"",e);let o=!1;s.appendChild(a),s.addEventListener("click",t=>{if(this.options.closeOnOutsideClick){const e=t.target;e===s&&(t.preventDefault(),this.close(n))}}),a.addEventListener("click",t=>{const s=t.target;if(s.matches("[data-ff-close]")||s.closest("[data-ff-close]"))return t.preventDefault(),void this.close(n);if(s.matches(".ff-modal-btn")||s.closest(".ff-modal-btn")){const a=s.matches(".ff-modal-btn")?s:s.closest(".ff-modal-btn"),l=a.dataset.action,r=e.buttons&&e.buttons.find(t=>t.id===a.id);if("close"===l)return t.preventDefault(),void this.close(n);r&&r.callback&&"function"==typeof r.callback&&(t.preventDefault(),o=!0,r.callback(t,{close:()=>this.close(n)}))}});const l={id:n,element:s,options:e,open:()=>this.open(n),close:()=>this.close(n),destroy:()=>this.destroy(n),getElement:()=>s,setContent:t=>{const e=s.querySelector(".ff-modal-body");e&&(e.innerHTML=t)},setTitle:t=>{const e=s.querySelector(".ff-modal-title");e&&(e.textContent=t)},addButton:t=>{const e=s.querySelector(".ff-modal-footer");if(e){const i=document.createElement("button");i.className=`ff-modal-btn ff-modal-btn-${t.type||"primary"}`,t.id&&(i.id=t.id),t.action&&(i.dataset.action=t.action),t.disabled&&(i.disabled=!0),i.textContent=t.text||"Button",t.attributes&&Object.keys(t.attributes).forEach(e=>{i.setAttribute(e,t.attributes[e])}),e.appendChild(i)}}};return this.activeModals.push(l),l}open(t){if(!t)return!1;const e=this.activeModals.find(e=>e.id===t);if(!e)return!1;e.element.parentNode||document.body.appendChild(e.element),e.element.classList.remove("hidden"),this.options.preventScroll&&(document.body.style.overflow="hidden"),this.options.animated&&(e.element.querySelector(".ff-modal-content").classList.add("ff-modal-content-enter"),setTimeout(()=>{e.element.querySelector(".ff-modal-content").classList.remove("ff-modal-content-enter")},300)),this._isOpen=!0,"function"==typeof this.options.onOpen&&this.options.onOpen(e.id);const i=new CustomEvent("ff:modal:open",{bubbles:!0,detail:{modalId:t}});return document.dispatchEvent(i),!0}close(t){if(!t)return!1;const e=this.activeModals.findIndex(e=>e.id===t);if(-1===e)return!1;const i=this.activeModals[e].element,n=this.activeModals[e].options;if(this.options.animated){const t=i.querySelector(".ff-modal-content");t&&t.classList.add("ff-modal-content-exit"),setTimeout(()=>{this._finalizeClose(i,n,e)},300)}else this._finalizeClose(i,n,e);const s=new CustomEvent("ff:modal:close",{bubbles:!0,detail:{modalId:t}});return document.dispatchEvent(s),!0}_finalizeClose(t,e,i){t.parentNode&&t.parentNode.removeChild(t),this.activeModals.splice(i,1),0===this.activeModals.length&&(this._isOpen=!1,this.options.preventScroll&&(document.body.style.overflow="")),"function"==typeof this.options.onClose&&this.options.onClose(e.id)}closeAll(){const t=[...this.activeModals];return t.forEach(t=>this.close(t.id)),!0}destroy(t){if(!t)return!1;const e=this.activeModals.findIndex(e=>e.id===t);if(-1===e)return!1;const i=this.activeModals[e].element;return i.parentNode&&i.parentNode.removeChild(i),this.activeModals.splice(e,1),0===this.activeModals.length&&(this._isOpen=!1,this.options.preventScroll&&(document.body.style.overflow="")),!0}}class n{constructor(t,e={}){if(this.trigger="string"==typeof t?document.querySelector(t):t,!this.trigger)throw new Error("Dropdown trigger element not found");this.options={placement:e.placement||"bottom-start",items:e.items||[],width:e.width||null,closeOnSelect:void 0===e.closeOnSelect||e.closeOnSelect,closeOnClickOutside:void 0===e.closeOnClickOutside||e.closeOnClickOutside,onSelect:e.onSelect||null,customClass:e.customClass||"",animation:!1!==e.animation,zIndex:e.zIndex||50},this.isOpen=!1,this.dropdown=null,this._init()}_init(){this._createDropdown(),this.trigger.addEventListener("click",t=>{t.preventDefault(),t.stopPropagation(),this.toggle()}),this.options.closeOnClickOutside&&document.addEventListener("click",t=>{this.isOpen&&!this.dropdown.contains(t.target)&&!this.trigger.contains(t.target)&&this.close()}),this._setupKeyboardNavigation()}_createDropdown(){this.dropdown=document.createElement("div"),this.dropdown.className=`ff-dropdown ff-absolute ff-bg-white ff-rounded-md ff-shadow-lg ff-overflow-hidden ff-z-${this.options.zIndex} ff-hidden`,this.options.animation&&this.dropdown.classList.add("ff-transform","ff-transition-all","ff-duration-200","ff-opacity-0","ff-scale-95"),this.options.customClass&&this.dropdown.classList.add(...this.options.customClass.split(" ")),this.options.width&&(this.dropdown.style.width="number"==typeof this.options.width?`${this.options.width}px`:this.options.width),this._renderItems(),document.body.appendChild(this.dropdown)}_renderItems(){this.dropdown.innerHTML="";const t=document.createElement("ul");t.className="ff-py-2 ff-text-sm ff-text-gray-700",this.options.items.forEach((e,i)=>{"divider"===e.type?t.appendChild(document.createElement("li")).className="ff-my-1 ff-border-t ff-border-gray-200":function(){const n=document.createElement("li");n.className="ff-dropdown-item";const s=document.createElement("button");s.type="button",s.className="ff-block ff-w-full ff-text-left ff-px-4 ff-py-2 ff-hover:bg-gray-100 ff-focus:bg-gray-100 ff-outline-none",s.setAttribute("role","menuitem"),s.setAttribute("tabindex","-1"),s.dataset.value=e.value||"",e.disabled&&(s.classList.add("ff-opacity-50","ff-cursor-not-allowed"),s.disabled=!0);let a="";e.icon&&(a+=`<i class="ff-mr-2 fas fa-${e.icon}"></i>`),a+=`<span>${e.text||"Item"}</span>`,s.innerHTML=a,s.addEventListener("click",t=>{t.preventDefault(),e.disabled||this._handleItemSelection(e,i)}),n.appendChild(s),t.appendChild(n)}.call(this)}),this.dropdown.appendChild(t)}_handleItemSelection(t,e){this.options.onSelect&&"function"==typeof this.options.onSelect&&this.options.onSelect(t,e),this.options.closeOnSelect&&this.close(),this.trigger.dispatchEvent(new CustomEvent("ff:dropdown:select",{bubbles:!0,detail:{item:t,index:e}}))}_setPosition(){if(!this.trigger||!this.dropdown)return;const t=this.trigger.getBoundingClientRect(),e=window.scrollY||document.documentElement.scrollTop,i=window.scrollX||document.documentElement.scrollLeft;switch(this.options.placement){case"top":this.dropdown.style.bottom=`${window.innerHeight-t.top+e}px`,this.dropdown.style.left=`${t.left+i+t.width/2-this.dropdown.offsetWidth/2}px`;break;case"top-start":this.dropdown.style.bottom=`${window.innerHeight-t.top+e}px`,this.dropdown.style.left=`${t.left+i}px`;break;case"top-end":this.dropdown.style.bottom=`${window.innerHeight-t.top+e}px`,this.dropdown.style.left=`${t.right+i-this.dropdown.offsetWidth}px`;break;case"bottom":this.dropdown.style.top=`${t.bottom+e}px`,this.dropdown.style.left=`${t.left+i+t.width/2-this.dropdown.offsetWidth/2}px`;break;case"bottom-end":this.dropdown.style.top=`${t.bottom+e}px`,this.dropdown.style.left=`${t.right+i-this.dropdown.offsetWidth}px`;break;case"right":this.dropdown.style.top=`${t.top+e+t.height/2-this.dropdown.offsetHeight/2}px`,this.dropdown.style.left=`${t.right+i}px`;break;case"left":this.dropdown.style.top=`${t.top+e+t.height/2-this.dropdown.offsetHeight/2}px`,this.dropdown.style.right=`${window.innerWidth-t.left+i}px`;break;default:this.dropdown.style.top=`${t.bottom+e}px`,this.dropdown.style.left=`${t.left+i}px`}this._adjustPosition()}_adjustPosition(){if(!this.dropdown)return;const t=this.dropdown.getBoundingClientRect();t.right>window.innerWidth&&(this.dropdown.style.left=`${window.innerWidth-t.width-10}px`),t.left<0&&(this.dropdown.style.left="10px"),t.bottom>window.innerHeight&&(this.dropdown.style.top="auto",this.dropdown.style.bottom="10px"),t.top<0&&(this.dropdown.style.top="10px",this.dropdown.style.bottom="auto")}_setupKeyboardNavigation(){document.addEventListener("keydown",t=>{if("Escape"===t.key&&this.isOpen&&this.close(),this.isOpen&&("ArrowDown"===t.key||"ArrowUp"===t.key)){t.preventDefault();const e=Array.from(this.dropdown.querySelectorAll(".ff-dropdown-item button:not([disabled])"));if(!e.length)return;const i=e.findIndex(t=>document.activeElement===t);let n;"ArrowDown"===t.key?n=i<0||i>=e.length-1?0:i+1:n=i<=0?e.length-1:i-1,e[n].focus()}})}open(){this.isOpen||(this._setPosition(),this.dropdown.classList.remove("ff-hidden"),this.options.animation&&setTimeout(()=>{this.dropdown.classList.remove("ff-opacity-0","ff-scale-95")},10),this.isOpen=!0,this.trigger.setAttribute("aria-expanded","true"),setTimeout(()=>{const t=this.dropdown.querySelector(".ff-dropdown-item button:not([disabled])");t&&t.focus()},100),this.trigger.dispatchEvent(new CustomEvent("ff:dropdown:open",{bubbles:!0})))}close(){this.isOpen&&(this.options.animation?(this.dropdown.classList.add("ff-opacity-0","ff-scale-95"),setTimeout(()=>{this.dropdown.classList.add("ff-hidden")},200)):this.dropdown.classList.add("ff-hidden"),this.isOpen=!1,this.trigger.setAttribute("aria-expanded","false"),this.trigger.focus(),this.trigger.dispatchEvent(new CustomEvent("ff:dropdown:close",{bubbles:!0})))}toggle(){this.isOpen?this.close():this.open()}update(t){Array.isArray(t)&&(this.options.items=t,this._renderItems())}destroy(){this.dropdown&&this.dropdown.parentNode&&this.dropdown.parentNode.removeChild(this.dropdown),this.trigger.removeEventListener("click",this.toggle),this.dropdown=null}}class s{constructor(t,e={}){if(this.container="string"==typeof t?document.querySelector(t):t,!this.container)throw new Error("Tabs container not found");this.options={activeTab:e.activeTab||null,animation:void 0===e.animation||e.animation,orientation:e.orientation||"horizontal",onChange:e.onChange||null,responsive:void 0===e.responsive||e.responsive,breakpoint:e.breakpoint||768,mobileAccordion:void 0===e.mobileAccordion||e.mobileAccordion},this.tabs=[],this.activeTabId=null,this._init()}_init(){const t=this.container.querySelector('[role="tablist"]')||this.container.querySelector(".ff-tabs-list"),e=t?t.querySelectorAll('[role="tab"]')||t.querySelectorAll(".ff-tab"):[];if(!t||0===e.length)return void console.error("No tabs found in the container");t.setAttribute("role","tablist"),t.className=`ff-tabs-list ${"vertical"===this.options.orientation?"ff-flex-col":"ff-flex"}`,e.forEach(t=>{t.setAttribute("role","tab");const e=t.id||`ff-tab-${Math.random().toString(36).substring(2,11)}`;t.id=e;let i=t.getAttribute("aria-controls")||t.getAttribute("data-tab-panel");t.hasAttribute("href")&&(i=t.getAttribute("href").replace(/^#/,""));let n=null;if(i&&(n=document.getElementById(i)),!n){const i=Array.from(e).indexOf(t),s=this.container.querySelectorAll('[role="tabpanel"], .ff-tab-panel');s.length>i&&(n=s[i])}if(!n)return void console.warn(`Tab panel not found for tab "${e}"`);n.setAttribute("role","tabpanel"),n.setAttribute("aria-labelledby",e),n.classList.add("ff-tab-panel"),n.id||(n.id=`ff-panel-${Math.random().toString(36).substring(2,11)}`),t.setAttribute("aria-controls",n.id),n.hidden=!0,this.tabs.push({id:e,tab:t,panel:n}),t.addEventListener("click",t=>{t.preventDefault(),this.activate(e)}),t.addEventListener("keydown",t=>{this._handleKeyDown(t,e)})}),this.options.activeTab?this.activate(this.options.activeTab):this.tabs.length>0&&this.activate(this.tabs[0].id),this.options.responsive&&this._setupResponsive()}_handleKeyDown(t,e){const i=this.tabs.findIndex(t=>t.id===e);if(-1!==i){let e=null;if("horizontal"===this.options.orientation)switch(t.key){case"ArrowLeft":e=0===i?this.tabs.length-1:i-1;break;case"ArrowRight":e=i===this.tabs.length-1?0:i+1;break;case"Home":e=0;break;case"End":e=this.tabs.length-1}else switch(t.key){case"ArrowUp":e=0===i?this.tabs.length-1:i-1;break;case"ArrowDown":e=i===this.tabs.length-1?0:i+1;break;case"Home":e=0;break;case"End":e=this.tabs.length-1}null!==e&&(t.preventDefault(),this.activate(this.tabs[e].id),this.tabs[e].tab.focus())}}_setupResponsive(){const t=()=>{window.innerWidth<this.options.breakpoint&&this.options.mobileAccordion?this._switchToAccordion():this._switchToTabs()};t(),window.addEventListener("resize",t)}_switchToAccordion(){if(this.container.classList.contains("ff-tabs-accordion"))return;this.container.classList.add("ff-tabs-accordion"),this.tabs.forEach(({tab:t,panel:e})=>{if(!e.parentElement.classList.contains("ff-accordion-item")){const i=document.createElement("div");i.className="ff-accordion-item",e.parentNode.insertBefore(i,e),i.appendChild(t),i.appendChild(e),e.hidden=!1,e.classList.add("ff-accordion-content","ff-max-h-0","ff-overflow-hidden","ff-transition-all","ff-duration-300"),t.setAttribute("aria-expanded","false")}})}_switchToTabs(){if(!this.container.classList.contains("ff-tabs-accordion"))return;this.container.classList.remove("ff-tabs-accordion"),this.tabs.forEach(({tab:t,panel:e,id:i})=>{e.classList.remove("ff-accordion-content","ff-max-h-0","ff-overflow-hidden"),e.hidden=i!==this.activeTabId,t.removeAttribute("aria-expanded");const n=e.parentElement;if(n.classList.contains("ff-accordion-item")){const s=this.container.querySelector('[role="tablist"]');s&&(s.appendChild(t),n.parentNode.insertBefore(e,n),n.parentNode.removeChild(n))}})}activate(t){const e=this.tabs.find(e=>e.id===t);if(!e)return!1;return this.tabs.forEach(({tab:t,panel:e})=>{t.setAttribute("aria-selected","false"),t.classList.remove("ff-active"),t.tabIndex=-1,this.container.classList.contains("ff-tabs-accordion")?(t.setAttribute("aria-expanded","false"),e.style.maxHeight="0",e.classList.remove("ff-accordion-expanded")):e.hidden=!0}),e.tab.setAttribute("aria-selected","true"),e.tab.classList.add("ff-active"),e.tab.tabIndex=0,this.container.classList.contains("ff-tabs-accordion")?(e.tab.setAttribute("aria-expanded","true"),e.panel.style.maxHeight=`${e.panel.scrollHeight}px`,e.panel.classList.add("ff-accordion-expanded")):(e.panel.hidden=!1,this.options.animation&&(e.panel.classList.add("ff-tab-panel-enter"),setTimeout(()=>{e.panel.classList.remove("ff-tab-panel-enter")},300))),this.activeTabId=t,this.options.onChange&&"function"==typeof this.options.onChange&&this.options.onChange(t,e.tab,e.panel),this.container.dispatchEvent(new CustomEvent("ff:tabs:change",{bubbles:!0,detail:{tabId:t,tab:e.tab,panel:e.panel}})),!0}getActive(){return this.activeTabId}getTabs(){return this.tabs.map(t=>({id:t.id,element:t.tab,panel:t.panel,isActive:t.id===this.activeTabId}))}destroy(){this.tabs.forEach(({tab:t})=>{t.removeEventListener("click",this.activate),t.removeEventListener("keydown",this._handleKeyDown)}),this.tabs=[],this.activeTabId=null}}class a{constructor(t={}){this.options={categories:t.categories||[],active:t.active||"all",onChange:t.onChange||null,className:t.className||"",enableSearch:t.enableSearch||!1},this.container="string"==typeof t.container?document.querySelector(t.container):t.container,this.activeCategory=this.options.active,this.filters=null,this._init()}_init(){this.filters=this._createFilterBar(),this.container&&(this.container.appendChild(this.filters),this._attachEvents())}_createFilterBar(){const t=document.createElement("div");t.className=`ff-filters ${this.options.className}`;const e=document.createElement("div");if(e.className="ff-filters-inner ff-flex ff-flex-wrap ff-gap-2 ff-mb-4",this.options.enableSearch){const i=document.createElement("div");i.className="ff-filter-search ff-mb-4",i.innerHTML=`
        <div class="ff-relative ff-w-full">
          <input type="text" placeholder="Search..." class="ff-filter-search-input ff-w-full ff-px-4 ff-py-2 ff-pr-10 ff-rounded-lg ff-border ff-border-gray-300 ff-focus:outline-none ff-focus:ring-2 ff-focus:ring-primary-400">
          <button type="button" class="ff-filter-search-btn ff-absolute ff-right-2 ff-top-1/2 ff--translate-y-1/2 ff-text-gray-400 ff-hover:text-gray-600">
            <i class="ff-search-icon"></i>
          </button>
        </div>
      `,t.appendChild(i)}if(this.options.categories&&this.options.categories.length){const i=this.options.categories.map(t=>{const e=document.createElement("button");return e.type="button",e.className=`ff-filter-btn ${t.id===this.activeCategory?"ff-active":""}`,e.dataset.category=t.id,e.textContent=t.name,e});i.forEach(t=>e.appendChild(t)),t.appendChild(e)}return t}_attachEvents(){if(!this.filters)return;this.filters.querySelectorAll(".ff-filter-btn").forEach(t=>{t.addEventListener("click",e=>{e.preventDefault();const i=t.dataset.category;this._activateCategory(i)})});const t=this.filters.querySelector(".ff-filter-search-input");t&&t.addEventListener("input",e=>{const i=e.target.value.trim().toLowerCase();this._filterBySearch(i)})}_activateCategory(t){const e=this.filters.querySelectorAll(".ff-filter-btn");e.forEach(e=>{e.dataset.category===t?(e.classList.add("ff-active"),e.setAttribute("aria-current","true")):(e.classList.remove("ff-active"),e.removeAttribute("aria-current"))}),this.activeCategory=t,this.options.onChange&&"function"==typeof this.options.onChange&&this.options.onChange(t),this.filters.dispatchEvent(new CustomEvent("ff:filter:change",{bubbles:!0,detail:{category:t}}))}_filterBySearch(t){this.filters.dispatchEvent(new CustomEvent("ff:filter:search",{bubbles:!0,detail:{query:t}}))}}class o{constructor(t={}){this.options={title:t.title||"",content:t.content||"",footer:t.footer||"",image:t.image||"",imagePosition:t.imagePosition||"top",hover:!1!==t.hover,shadow:t.shadow||"md",rounded:t.rounded||"md",padding:t.padding||"md",titleTag:t.titleTag||"h3",badge:t.badge||null,actions:t.actions||[],theme:t.theme||"light",animation:t.animation||"none",class:t.class||"",stretch:!0===t.stretch},this.card=null,this._create()}_create(){const t=document.createElement("div");t.className=this._getCardClasses(),t.innerHTML=this._buildCardContent(),this.options.actions.length>0&&this._setupActionHandlers(t),this.options.hover&&(t.classList.add("ff-transform","ff-transition-all","ff-duration-300"),t.addEventListener("mouseenter",()=>{t.classList.add("ff--translate-y-1","ff-shadow-lg")}),t.addEventListener("mouseleave",()=>{t.classList.remove("ff--translate-y-1","ff-shadow-lg")})),this.card=t,"none"!==this.options.animation&&this._addAnimation()}_getCardClasses(){const t=["ff-card","ff-overflow-hidden"];"dark"===this.options.theme?t.push("ff-bg-gray-800","ff-text-white"):t.push("ff-bg-white","ff-text-gray-900");const e={none:"ff-rounded-none",sm:"ff-rounded-sm",md:"ff-rounded-md",lg:"ff-rounded-lg",xl:"ff-rounded-xl",full:"ff-rounded-full"};t.push(e[this.options.rounded]||"ff-rounded-md");const i={none:"ff-shadow-none",sm:"ff-shadow-sm",md:"ff-shadow",lg:"ff-shadow-lg",xl:"ff-shadow-xl"};return t.push(i[this.options.shadow]||"ff-shadow"),this.options.stretch&&t.push("ff-h-full"),this.options.class&&t.push(this.options.class),t.join(" ")}_addAnimation(){if(!this.card)return;const t={["fade-in"]:"ff-animate-fade-in",["slide-up"]:"ff-animate-slide-up",["scale-in"]:"ff-animate-scale-in",bounce:"ff-animate-bounce",pulse:"ff-animate-pulse"}[this.options.animation];t&&this.card.classList.add(t)}_buildCardContent(){let t="";this.options.image&&"top"===this.options.imagePosition&&(t+=`<div class="ff-card-image ff-w-full ff-overflow-hidden">
        <img src="${this.options.image}" alt="" class="ff-w-full ff-h-auto ff-object-cover">
      </div>`);const e={sm:"ff-p-2",md:"ff-p-4",lg:"ff-p-6",xl:"ff-p-8"}[this.options.padding]||"ff-p-4";return t+=`<div class="ff-card-body ${e}">`,this.options.badge&&(t+=`<div class="ff-inline-block ff-px-2 ff-py-1 ff-rounded-full ff-text-xs ff-font-semibold ff-mb-2 ${"dark"===this.options.theme?`ff-bg-${this.options.badge.type||"primary"}-400 ff-text-white`:`ff-bg-${this.options.badge.type||"primary"}-100 ff-text-${this.options.badge.type||"primary"}-800`}">
          ${this.options.badge.text}
        </div>`),this.options.title&&(t+=`<${this.options.titleTag} class="ff-card-title ff-text-lg ff-font-bold ff-mb-2">
          ${this.options.title}
        </${this.options.titleTag}>`),this.options.content&&(t+=`<div class="ff-card-content ${"dark"===this.options.theme?"ff-text-gray-300":"ff-text-gray-600"}">
          ${this.options.content}
        </div>`),this.options.footer&&(t+=`<div class="ff-card-footer ff-mt-4 ff-pt-3 ff-border-t ${"dark"===this.options.theme?"ff-border-gray-700 ff-text-gray-400":"ff-border-gray-200 ff-text-gray-500"} ff-text-sm">
          ${this.options.footer}
        </div>`),this.options.actions.length>0&&(t+='<div class="ff-card-actions ff-mt-4 ff-flex ff-gap-2 ff-justify-end">',this.options.actions.forEach(e=>{const i=e.type||"primary",n=e.size||"sm";t+=`<button class="ff-btn ff-btn-${i} ff-btn-${n}" type="button" data-action="${e.action||""}" ${e.disabled?"disabled":""}>
              ${e.icon?`<i class="ff-mr-1 fas fa-${e.icon}"></i>`:""}
              ${e.text||"Button"}
            </button>`}),t+="</div>"),t+"</div>"}

            
_setupActionHandlers(t){t.querySelectorAll(".ff-card-actions button").forEach(e=>{e.addEventListener("click",i=>{const n=e.getAttribute("data-action"),s=this.options.actions.find(t=>t.action===n);s&&s.callback&&"function"==typeof s.callback&&s.callback(i,t)})})}}class l{constructor(t={}){this.options={validation:!0===t.validation,fields:t.fields||[],theme:t.theme||"default",spacing:t.spacing||"default",onSubmit:t.onSubmit||null,onChange:t.onChange||null},this.form=null,this.validationErrors={},this.form="string"==typeof t.form?document.querySelector(t.form):t.form,this.form&&(this._initForm(),this._attachEvents())}_initForm(){this.form.classList.add("ff-form"),this.options.spacing&&this.form.classList.add(`ff-form-spacing-${this.options.spacing}`),this.options.theme&&this.form.classList.add(`ff-form-theme-${this.options.theme}`),this.options.validation&&(this.form.setAttribute("novalidate",""),this._setupValidation())}_attachEvents(){this.form.addEventListener("submit",t=>{if(this.options.validation){if(t.preventDefault(),!this._validate())return!1;this.options.onSubmit&&"function"==typeof this.options.onSubmit&&this.options.onSubmit(t,this._getFormData())}else this.options.onSubmit&&"function"==typeof this.options.onSubmit&&(t.preventDefault(),this.options.onSubmit(t,this._getFormData()))}),this.options.onChange&&"function"==typeof this.options.onChange&&this.form.addEventListener("change",t=>{this.options.onChange(t,this._getFormData())})}_setupValidation(){this.form.querySelectorAll("input, select, textarea").forEach(t=>{const e=t.dataset.validate||"";e&&this._addFieldListener(t,e)})}_addFieldListener(t,e){const i=t.id,n=t.name||i;t.addEventListener("blur",()=>{this._validateField(t,n,e)})}_validateField(t,e,i){if(!i)return!0;let n=!0;const s=[],a=t.value;if(i.includes("required")&&(!a||a.trim().length<1)&&(n=!1,s.push("This field is required")),i.includes("email")&&a&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a)&&(n=!1,s.push("Please enter a valid email address")),i.includes("min-length")&&a){const e=parseInt(i.match(/min-length:(\d+)/)?.[1]||"0");a.length<e&&(n=!1,s.push(`Must be at least ${e} characters`))}if(i.includes("max-length")&&a){const e=parseInt(i.match(/max-length:(\d+)/)?.[1]||"0");a.length>e&&(n=!1,s.push(`Must be less than ${e} characters`))}if(i.includes("pattern")&&a){const e=i.match(/pattern:([\w-]+)/)?.[1];if(e){let i;switch(e){case"alpha":i=/^[A-Za-z]+$/;break;case"alphanumeric":i=/^[A-Za-z0-9]+$/;break;case"numeric":i=/^[0-9]+$/;break;case"phone":i=/^[+]?[(]?[0-9]{3}[)]?[-\s.]?[0-9]{3}[-\s.]?[0-9]{4,6}$/;break;default:i=new RegExp(e)}i.test(a)||(n=!1,s.push("Please enter a valid format"))}}if(i.includes("match")&&a){const e=i.match(/match:([^,;\s]+)/)?.[1];if(e){const i=this.form.querySelector(`[name="${e}"], #${e}`);i&&i.value!==a&&(n=!1,s.push("Fields do not match"))}}return this._updateFieldValidation(t,n,s),this.validationErrors[e]=n?[]:s,n}_updateFieldValidation(t,e,i){if(!t)return;let n=t.closest(".ff-form-group")||t.parentNode;n||(n=document.createElement("div"),t.parentNode.insertBefore(n,t),n.appendChild(t));let s=n.querySelector(".ff-error-message");e?(s&&s.remove(),t.classList.remove("ff-invalid"),t.classList.add("ff-valid")):(s||(s=document.createElement("div"),s.className="ff-error-message",n.appendChild(s)),s.innerHTML=i.map(t=>`<div>${t}</div>`).join(""),t.classList.remove("ff-valid"),t.classList.add("ff-invalid"))}_validate(){let t=!0;return this.form.querySelectorAll("[data-validate]").forEach(e=>{const i=e.dataset.validate;if(i){const n=e.id,s=e.name||n;this._validateField(e,s,i)||(t=!1)}}),t}_getFormData(){const t={};return this.form.querySelectorAll("input, select, textarea").forEach(e=>{if("submit"===e.type||!e.name)return;if("checkbox"===e.type)t[e.name]=e.checked;else if("radio"===e.type)e.checked&&(t[e.name]=e.value);else if("select-multiple"===e.type){const i=Array.from(e.options).filter(t=>t.selected).map(t=>t.value);t[e.name]=i}else t[e.name]=e.value}),t}reset(){this.form&&(this.form.reset(),this.validationErrors={},this.form.querySelectorAll(".ff-error-message").forEach(t=>t.remove()),this.form.querySelectorAll(".ff-invalid").forEach(t=>{t.classList.remove("ff-invalid")}),this.form.querySelectorAll(".ff-valid").forEach(t=>{t.classList.remove("ff-valid")}))}getValues(){return this._getFormData()}setValues(t){Object.keys(t).forEach(e=>{const i=this.form.elements[e];if(i)if(i instanceof RadioNodeList)Array.from(i).forEach(i=>{"radio"===i.type&&i.value===t[e]&&(i.checked=!0)});else if(i instanceof HTMLSelectElement&&i.multiple){const n=Array.isArray(t[e])?t[e]:[t[e]];Array.from(i.options).forEach(e=>{e.selected=n.includes(e.value)})}else"checkbox"===i.type?i.checked=Boolean(t[e]):"radio"===i.type?i.value===t[e]&&(i.checked=!0):i.value=t[e]})}}class r{constructor(t={}){this.options={size:t.size||"md",type:t.type||"border",color:t.color||"primary",fullScreen:t.fullScreen||!1,message:t.message||"Loading...",showMessage:void 0===t.showMessage||t.showMessage,className:t.className||""},this.loader=this._createLoader(),t.container&&this.show(t.container)}_getLoaderTemplate(){let t="";switch(this.options.type){case"spinner":t=`<div class="ff-loader-spinner ff-animate-spin ff-border-4 ff-border-solid ff-rounded-full ff-border-y-transparent ${this.options.color?`ff-border-${this.options.color}-500`:""} ff-border-r-transparent"></div>`;break;case"dots":t='<div class="ff-loader-dots"><div></div><div></div><div></div></div>';break;case"pulse":t='<div class="ff-loader-pulse"></div>';break;default:t=`<div class="ff-loader-border ff-animate-spin ff-rounded-full ff-border-4 ff-border-solid ff-border-t-transparent"></div>`}return t}_createLoader(){const t=document.createElement("div"),e=this._getLoaderTemplate(),i={sm:"ff-loader-sm",md:"ff-loader-md",lg:"ff-loader-lg",xl:"ff-loader-xl"}[this.options.size]||"ff-loader-md";return this.options.fullScreen?t.className=`ff-loader-container ff-loader-fullscreen ${this.options.className}`:t.className=`ff-loader-container ${this.options.className}`,t.innerHTML=`
      <div class="${`ff-loader ${i}`}">
        ${e}
        ${this.options.showMessage?`<span class="ff-loader-message">${this.options.message}</span>`:""}
      </div>
    `,t}show(t){if(!t)return;let e=null;return"string"==typeof t?e=document.querySelector(t):t instanceof HTMLElement&&(e=t),e&&(e.classList.add("ff-loader-parent"),e.appendChild(this.loader),e),this.loader}hide(){return this.loader&&this.loader.parentNode&&(this.loader.parentNode.classList.remove("ff-loader-parent"),this.loader.parentNode.removeChild(this.loader)),!0}update(t){if(!this.loader)return;const e={...this.options,...t};return this.options=e,this.loader.innerHTML=`
      <div class="${`ff-loader ff-loader-${e.size}`}">
        ${this._getLoaderTemplate()}
        ${e.showMessage?`<span class="ff-loader-message">${e.message}</span>`:""}
      </div>
    `,this.loader}}const d={version:"1.0.0",Toast:e,Modal:i,Dropdown:n,Tabs:s,Filters:a,Card:o,Form:l,Loader:r,init:function(t={}){return this._initAutoComponents(),this},_initAutoComponents(){document.querySelectorAll("[data-ff-toast]").forEach(t=>{t.addEventListener("click",()=>{const i=new e,n=t.getAttribute("data-ff-toast-type")||"info",s=t.getAttribute("data-ff-toast-message")||"Notification";i[n](s)})}),document.querySelectorAll("[data-ff-modal-trigger]").forEach(t=>{const e=t.getAttribute("data-ff-modal-trigger"),n=document.querySelector(`[data-ff-modal="${e}"]`);if(n){const s=new i,a=n.innerHTML,o=n.getAttribute("data-ff-modal-title")||"",l=s.create({id:e,title:o,content:a,showHeader:"false"!==n.getAttribute("data-ff-modal-header"),showFooter:"false"!==n.getAttribute("data-ff-modal-footer")});t.addEventListener("click",()=>{l.open()})}}),document.querySelectorAll("[data-ff-dropdown]").forEach(t=>{new n(t)}),document.querySelectorAll("[data-ff-tabs]").forEach(t=>{new s(t)}),document.querySelectorAll("[data-ff-filters]").forEach(t=>{new a(t)}),document.querySelectorAll("form[data-ff-validate]").forEach(t=>{new l(t,{validation:!0})})}};t.Card=o,t.Dropdown=n,t.Filters=a,t.Form=l,t.Loader=r,t.Modal=i,t.Tabs=s,t.Toast=e,t.default=d}));